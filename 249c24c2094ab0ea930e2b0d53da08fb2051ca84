{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e544e8be_ee2da9ef",
        "filename": "meson_options.txt",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-03-28T19:26:40Z",
      "side": 1,
      "message": "Why did this become \"PersistData\" vs. just \"RequestedHostTransition\"?",
      "range": {
        "startLine": 53,
        "startChar": 51,
        "endLine": 53,
        "endChar": 62
      },
      "revId": "249c24c2094ab0ea930e2b0d53da08fb2051ca84",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f3780874_0ee3a192",
        "filename": "meson_options.txt",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1001266
      },
      "writtenOn": "2022-03-29T01:56:24Z",
      "side": 1,
      "message": "This file now stores three data ,RequestedHostTransition, boot progress and os status ,so I think \"RequestedHostTransition\" can not describe this file purpose preciously.",
      "parentUuid": "e544e8be_ee2da9ef",
      "range": {
        "startLine": 53,
        "startChar": 51,
        "endLine": 53,
        "endChar": 62
      },
      "revId": "249c24c2094ab0ea930e2b0d53da08fb2051ca84",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b8540ff_33aac6f5",
        "filename": "meson_options.txt",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-03-30T00:29:37Z",
      "side": 1,
      "message": "Good point. This does bring up another good point in that we\u0027re breaking backwards compatibility in general here (not just with the name change but with the instance concept). I think that\u0027s ok. If someone were to have shipped a system with the previous level of code, moving to this would cause some of the function that relies on the persisted values, to not work. I\u0027ll have to think about that for our products. If we wanted to be fancy we could have some migration built in (look for old file, if found, move to new file). But I\u0027m not going to say that\u0027s required.",
      "parentUuid": "f3780874_0ee3a192",
      "range": {
        "startLine": 53,
        "startChar": 51,
        "endLine": 53,
        "endChar": 62
      },
      "revId": "249c24c2094ab0ea930e2b0d53da08fb2051ca84",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b8897dd_738f5c1b",
        "filename": "meson_options.txt",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1001266
      },
      "writtenOn": "2022-03-30T01:25:53Z",
      "side": 1,
      "message": "Oh,I understand, the persist values will disappear after upgrade BMC image on a running machine,I was not notice that but it is really a problem.\nThe previous code only support single-host,so I think I must consider how to sync persist value from old file to new file of instance \u00270\u0027.",
      "parentUuid": "7b8540ff_33aac6f5",
      "range": {
        "startLine": 53,
        "startChar": 51,
        "endLine": 53,
        "endChar": 62
      },
      "revId": "249c24c2094ab0ea930e2b0d53da08fb2051ca84",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34f60e38_bf3c64a1",
        "filename": "meson_options.txt",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-03-30T15:10:20Z",
      "side": 1,
      "message": "@Andrew, do we have any generic way to do migrations already?  I looked briefly at Yocto and they have `pkg_postinst_ontarget` but in my quick testing it seems like that doesn\u0027t apply on the rootfs but only when using `opkg` to install the package.",
      "parentUuid": "5b8897dd_738f5c1b",
      "range": {
        "startLine": 53,
        "startChar": 51,
        "endLine": 53,
        "endChar": 62
      },
      "revId": "249c24c2094ab0ea930e2b0d53da08fb2051ca84",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "273db78f_b2c6ec6e",
        "filename": "meson_options.txt",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-03-31T20:24:21Z",
      "side": 1,
      "message": "No, I know of no way to do this generically. As a community we\u0027ve seemed to go back and forth a bit on whether we have to support situations like this. In some cases I\u0027ve heard, it\u0027s master and you can break things like this there. In some cases, I\u0027ve heard you need logic to handle it. Seems to depend on the severity of the issue that results in not supporting it. I don\u0027t see anything to severe here. I guess we\u0027d lose the POHcounter info, which isn\u0027t ideal.",
      "parentUuid": "34f60e38_bf3c64a1",
      "range": {
        "startLine": 53,
        "startChar": 51,
        "endLine": 53,
        "endChar": 62
      },
      "revId": "249c24c2094ab0ea930e2b0d53da08fb2051ca84",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8994821e_8878a9d9",
        "filename": "meson_options.txt",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 1001266
      },
      "writtenOn": "2022-04-01T02:41:31Z",
      "side": 1,
      "message": "Maybe we can just rename files before restore values if old file exist? \n\n\u0027/var/lib/phosphor-state-manager/requestedHostTransition\u0027\n\u003d\u003e\u0027/var/lib/phosphor-state-manager/host0-PersistData\u0027\n\u0027/var/lib/phosphor-state-manager/POHCounter\u0027\n\u003d\u003e\u0027/var/lib/phosphor-state-manager/chassis0-POHCounter\u0027\n\u0027/var/lib/phosphor-state-manager/chassisStateChangeTime\u0027\n\u003d\u003e\u0027/var/lib/phosphor-state-manager/chassis0-StateChangeTime\u0027\n\nI will try if this way can restore old file values.",
      "parentUuid": "273db78f_b2c6ec6e",
      "range": {
        "startLine": 53,
        "startChar": 51,
        "endLine": 53,
        "endChar": 62
      },
      "revId": "249c24c2094ab0ea930e2b0d53da08fb2051ca84",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}