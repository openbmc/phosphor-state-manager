{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "427faf9a_bcf2f3ff",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-11-07T11:06:01Z",
      "side": 1,
      "message": "I\u0027m considering adding a short delay (e.g., sleep 60) before executing the reboot, to provide a window for users to capture diagnostics in case the system repeatedly enters the BMC Quiesced state and would otherwise fall into a reboot loop.",
      "revId": "fd4e7f11729ae2da62a417d68940d8f8a263c476",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9d4e434_408cb0ca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-11-07T14:15:51Z",
      "side": 1,
      "message": "Why wouldn\u0027t we run the reboot target (or an openbmc-specific target that calls reboot) and if people want to add diagnostics inside there, they can do that?  Or, I guess people can add Before/Wants to this service if they want to run things?  \n\nI\u0027m not sure why we\u0027d want to add an arbitrary delay.  These things can be solved with systemd dependencies.",
      "parentUuid": "427faf9a_bcf2f3ff",
      "revId": "fd4e7f11729ae2da62a417d68940d8f8a263c476",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce11e38f_e083f6f5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-11-11T12:15:14Z",
      "side": 1,
      "message": "Understood. Platforms can add a drop-in (e.g., ExecStartPre or a service with Before\u003dreboot.target and Wants/Requires) to run pre-reboot diagnostics. Thanks for the suggestion.",
      "parentUuid": "d9d4e434_408cb0ca",
      "revId": "fd4e7f11729ae2da62a417d68940d8f8a263c476",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "406c9c87_5f5ba6fd",
        "filename": "service_files/phosphor-bmc-quiesce-reboot.service",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-11-07T14:18:43Z",
      "side": 1,
      "message": "Where is the code to trigger this?",
      "revId": "fd4e7f11729ae2da62a417d68940d8f8a263c476",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "15067d77_313ed6c5",
        "filename": "service_files/phosphor-bmc-quiesce-reboot.service",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-11-11T12:15:14Z",
      "side": 1,
      "message": "I added a Meson option “auto-reboot-on-bmc-quiesce” (disabled by default) that installs a wants symlink so entering Quiesced pulls in the reboot service (scoped to @0).",
      "parentUuid": "406c9c87_5f5ba6fd",
      "revId": "fd4e7f11729ae2da62a417d68940d8f8a263c476",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69f0bea0_f475d83c",
        "filename": "service_files/phosphor-bmc-quiesce-reboot.service",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-11-07T14:18:43Z",
      "side": 1,
      "message": "Should this be /sbin/reboot or should it be a dependency on the reboot.target or start the reboot.target?  Should we run `systemctl reboot` instead?",
      "revId": "fd4e7f11729ae2da62a417d68940d8f8a263c476",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "442617c9_0b175fb7",
        "filename": "service_files/phosphor-bmc-quiesce-reboot.service",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-11-07T14:20:05Z",
      "side": 1,
      "message": "`/sbin/reboot` is a symlink to `systemctl reboot` anyhow on systemd installs.",
      "parentUuid": "69f0bea0_f475d83c",
      "revId": "fd4e7f11729ae2da62a417d68940d8f8a263c476",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9f988d4d_a86cf243",
        "filename": "service_files/phosphor-bmc-quiesce-reboot.service",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-11-11T12:15:14Z",
      "side": 1,
      "message": "I switched the unit to use:\n```\nExecStart\u003d/usr/bin/systemctl reboot\n```\nas it’s more explicit than /sbin/reboot. If preferred, I can change it to start reboot.target instead.",
      "parentUuid": "442617c9_0b175fb7",
      "revId": "fd4e7f11729ae2da62a417d68940d8f8a263c476",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}