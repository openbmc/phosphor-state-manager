{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "15906627_bd70c612",
        "filename": "host_state_manager.hpp",
        "patchSetId": 37
      },
      "lineNbr": 141,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-06-15T11:23:41Z",
      "side": 1,
      "message": "Not anymore... ;)",
      "range": {
        "startLine": 141,
        "startChar": 49,
        "endLine": 141,
        "endChar": 66
      },
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "14adcb09_6ecbdd70",
        "filename": "host_state_manager.hpp",
        "patchSetId": 37
      },
      "lineNbr": 141,
      "author": {
        "id": 1001428
      },
      "writtenOn": "2022-06-15T15:37:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "15906627_bd70c612",
      "range": {
        "startLine": 141,
        "startChar": 49,
        "endLine": 141,
        "endChar": 66
      },
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25fa431e_fedd2a0b",
        "filename": "host_state_manager.hpp",
        "patchSetId": 37
      },
      "lineNbr": 150,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-06-15T11:23:41Z",
      "side": 1,
      "message": "Do you need a `min(value, retryAttempts)` ?  I\u0027m not saying you do but just asking since it seems like a possibility.",
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a56530a1_545624aa",
        "filename": "host_state_manager.hpp",
        "patchSetId": 37
      },
      "lineNbr": 150,
      "author": {
        "id": 1001428
      },
      "writtenOn": "2022-06-15T15:37:22Z",
      "side": 1,
      "message": "I didn\u0027t think to implement any logic since the unsigned type would prevent a negative value from being passed. However,this does make me think some logic should be added here to ensure attemptsLeft is not set to a value greater than retryAttempts(MAX_BOOT_COUNT_ALLOWED).\nAs far as a \u0027min\u0027 I don\u0027t think that would completely apply since the use case may be to set the attemptsLeft back to the value of retryAttempts after experiencing a couple of unsuccessful boots. That may produce undesired behavior for someone working on the machine. Don\u0027t think checking to make sure attemptsLeft cannot be set to zero makes much sense since it is a valid request.",
      "parentUuid": "25fa431e_fedd2a0b",
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d452ac92_bb2554ca",
        "filename": "host_state_manager.hpp",
        "patchSetId": 37
      },
      "lineNbr": 150,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-06-22T15:59:49Z",
      "side": 1,
      "message": "\u003e As far as a \u0027min\u0027 I don\u0027t think that would completely apply since the use case may be to set the attemptsLeft back to the value of retryAttempts after experiencing a couple of unsuccessful boots.\n\nI\u0027m not really following this comment.  min(value, retryAttempts) would be value unless value \u003e retryAttempts.  This is just a clamp to make sure someone cannot set attemptsLeft \u003e retryAttempts.  Again, I don\u0027t know if you need it but you seem to imply that you do by this:\n\n\u003e However,this does make me think some logic should be added here to ensure attemptsLeft is not set to a value greater than retryAttempts(MAX_BOOT_COUNT_ALLOWED).\n\nIn my opinion `min` would do exactly that.  Can you describe a case where it wouldn\u0027t?",
      "parentUuid": "a56530a1_545624aa",
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35b90e74_c59a230f",
        "filename": "host_state_manager.hpp",
        "patchSetId": 37
      },
      "lineNbr": 150,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-07-05T13:26:43Z",
      "side": 1,
      "message": "Corey, I think Patrick is just asking you to use the c++ algorithm \"min\" - https://cplusplus.com/reference/algorithm/min/ vs. writing your own logic for it.",
      "parentUuid": "d452ac92_bb2554ca",
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3226a7ed_453dd563",
        "filename": "host_state_manager.hpp",
        "patchSetId": 37
      },
      "lineNbr": 150,
      "author": {
        "id": 1001428
      },
      "writtenOn": "2022-07-05T19:30:06Z",
      "side": 1,
      "message": "I don\u0027t know how I left Patrick\u0027s commented unattended to. Sorry, I must have glanced over when checking gerrit. Just implemented will push briefly.",
      "parentUuid": "35b90e74_c59a230f",
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94120112_86bfa16e",
        "filename": "host_state_manager.hpp",
        "patchSetId": 37
      },
      "lineNbr": 277,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-06-15T11:23:41Z",
      "side": 1,
      "message": "I think I\u0027d prefer the logic inverted for this.\n\nif (version \u003c 2)\n{\n   ... stuff without the field\n}\nelse\n{\n   ... stuff with the field.\n}\n\nToo bad there isn\u0027t an easy way to implement this with a case + fall-through... or is there?  If you switch the order so retryAttempts is added to the archive first then:\n\nretryAttempts \u003d BOOT_COUNT_MAX_ALLOWED;\nswitch (version) \n{\n    case 2:\n        archive(retryAttempts);\n        // need some magic allow-fallthrough comment.\n        \n    case 1:\n        archive(reqTranState, bootProgress, osState);\n        break;\n}",
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e3dbb10f_ccbc9db4",
        "filename": "host_state_manager.hpp",
        "patchSetId": 37
      },
      "lineNbr": 277,
      "author": {
        "id": 1001428
      },
      "writtenOn": "2022-06-15T19:32:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "94120112_86bfa16e",
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb54038a_c1da1ec7",
        "filename": "meson_options.txt",
        "patchSetId": 37
      },
      "lineNbr": 85,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-06-15T11:23:41Z",
      "side": 1,
      "message": "I can\u0027t believe we made this a meson option, but whatever.  Maybe some cleanup for another day.",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 85,
        "endChar": 1
      },
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6d53884a_5a483aa7",
        "filename": "meson_options.txt",
        "patchSetId": 37
      },
      "lineNbr": 85,
      "author": {
        "id": 1001428
      },
      "writtenOn": "2022-06-15T15:37:22Z",
      "side": 1,
      "message": "I think it\u0027ll be rather quick to take out.\nThis option is only used in host_state_manager.cpp\nI\u0027ll remove it and make the corresponding changes there in another commit.",
      "parentUuid": "cb54038a_c1da1ec7",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 85,
        "endChar": 1
      },
      "revId": "476de328ddcc304e910777004017a4a8871cecd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}